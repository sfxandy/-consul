Acceptance Criteria: Deploy Envoy in Podman and Integrate with Consul Connect

    Envoy Container Deployment

        Given Podman is installed and Consul is running on the target host,
        when the Envoy container image is pulled and started via Podman,
        then the Envoy proxy runs as a containerized service, accessible on the expected ports.

    Consul Agent Sidecar Integration

        Given a Consul agent is running in client mode on the same host as the Envoy container,
        when a service is registered in Consul with Connect sidecar configuration referencing Envoy,
        then Consul launches Envoy as a sidecar container (or registers the external Envoy container as the proxy) for that service.

    Service Mesh Connectivity

        Given two services each with Envoy sidecar containers (in Podman) and registered with Consul Connect,
        when one service communicates with the other,
        then the traffic is automatically routed through their respective Envoy proxies, establishing secure service mesh communication.

    Service Registration Validation

        Given a service and its Envoy proxy are running in Podman and registered in Consul,
        when the Consul UI or API is queried,
        then both the service and its sidecar proxy appear as healthy and connected.

    Mutual TLS (mTLS) Enforcement

        Given Envoy containers are integrated with Consul Connect and mTLS is enabled,
        when communication is initiated between two services,
        then all traffic is encrypted and only authorized services (according to Consul intentions) can communicate.

    Resilience and Recovery

        Given an Envoy sidecar container is stopped or crashes,
        when it is restarted via Podman,
        then the serviceâ€™s secure connectivity is automatically restored and the Consul health status is updated.

    Metrics and Observability

        Given Envoy is running as a Podman container,
        when its admin or metrics endpoint is accessed from the host or monitoring container,
        then Envoy provides up-to-date statistics and health data.

    Idempotent Redeployment

        Given deployment automation for Envoy and Connect services,
        when the deployment process is run multiple times with no configuration changes,
        then no duplicate containers are created, and existing containers remain healthy and registered.
